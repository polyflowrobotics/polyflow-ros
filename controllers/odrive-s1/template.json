{
  "type": "controller",
  "name": "ODrive S1 Controller",
  "entry_point": "odrive-s1/node.py",
  "topics": [
    {
      "name": "/joint/state",
      "direction": "publish",
      "msg_type": "sensor_msgs/JointState",
      "qos": {
        "reliability": "best_effort",
        "history": "keep_last",
        "depth": 10
      }
    },
    {
      "name": "/joint_controller/command",
      "direction": "subscribe",
      "msg_type": "trajectory_msgs/JointTrajectory",
      "qos": {
        "reliability": "reliable",
        "history": "keep_last",
        "depth": 10
      }
    }
  ],
  "services": [],
  "actions": [],
  "parameters_schema": {
    "joint_ids": {
      "label": "Joints",
      "requiresInstance": true,
      "type": "string[]",
      "required": true,
      "description": "Joint IDs this controller manages",
      "entity_source": {
        "selector": "components.outputs",
        "filters": {
          "output_type": "joint",
          "joint_type": "revolute,continuous"
        },
        "value_field": "_id",
        "label_field": "name"
      },
      "ui": { "group": "Joints", "order": 1 }
    },
    "control_mode": {
      "label": "Control Mode",
      "type": "enum",
      "values": ["velocity", "position"],
      "default": "velocity",
      "ui": { "group": "Control", "order": 2 }
    },
    "max_velocity": {
      "label": "Max Velocity",
      "type": "number",
      "default": 4.0,
      "min": 0,
      "max": 20,
      "units": "m/s",
      "ui": { "group": "Limits", "order": 3 }
    }
  },
  "defaults": {
    "namespace": "/robot/base",
    "rate_hz": 150,
    "lifecycle": true
  }
}
